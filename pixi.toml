[workspace]
name = "aps-website"
description = "APS website built with Jekyll and Petridish theme"
authors = ["Youwei Xiao"]
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64"]

[dependencies]
ruby = ">=3.1,<3.4"
nodejs = ">=20"
git = "*"
compilers = "*"
pkg-config = "*"
make = "*"

[tasks]
# Install dependencies
install = { cmd = "bash scripts/install.sh", description = "Install Ruby gems and npm packages" }

# Development server
serve = { cmd = "bash scripts/serve.sh", description = "Start Jekyll development server with live reload" }
dev = { depends-on = ["serve"], description = "Alias for serve command" }

# Build operations
build = { cmd = "bash scripts/build.sh", description = "Build the Jekyll site" }
clean = { cmd = "bash scripts/clean.sh", description = "Clean the Jekyll build directory" }

# Combined tasks
setup = { depends-on = ["install"], description = "Initial project setup" }
rebuild = { depends-on = ["clean", "build"], description = "Clean and rebuild the site" }
